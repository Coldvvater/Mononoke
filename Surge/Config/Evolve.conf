# > Surge Config Make by Coldvvater
# > TG Channel: https://t.me/Coldvvater_Channel
# > GitHub: https://github.com/Coldvvater
# > Update Date: 2023.10.15

[General]
# > æ—¥å¿—ç­‰çº§
loglevel = notify

# > å¢žå¼ºç‰ˆ Wi-Fi åŠ©ç†
# åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿žæŽ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯ï¼Œé»˜è®¤å…³é—­ï¼šfalse,å¼€å¯æŠŠfalseä¿®æ”¹ä¸ºtrueå³å¯ã€‚
wifi-assist = false

# > æ··åˆç½‘ç»œ Hybrid Networkï¼ˆå»ºè®®å…³é—­ã€æ— é™æµé‡æˆ–è€…è¶…å‡ºå¥—é¤æµé‡ä¸é™é€Ÿå¯é€‰æ‹©å¼€å¯ï¼‰
all-hybrid = false

# > Internet æµ‹è¯• URL
internet-test-url = http://www.bing.com
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.apple.com/library/test/success.html
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5

# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# > GeoIP ç¦ç”¨è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false

# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false

# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOS ï¼‰
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > Allow Hotspot Accessï¼ˆå…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®ï¼‰
allow-hotspot-access = true
# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
# > Wi-Fi ä¸æ˜¯ä¸»æŽ¥å£åˆ™ä½¿ç”¨SSIDç»„çš„é»˜è®¤ç­–ç•¥
use-default-policy-if-wifi-not-primary = false

# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
# compatibility-mode = false

# > è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, sequoia.apple.com

# > è·¯ç”±é˜²ç«å¢™
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false

# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›žé”™è¯¯é¡µ
show-error-page-for-reject = true

# > è¿”å›žçœŸå®žIPåœ°å€
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com*.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > VIF Excluded Routes
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 239.255.255.250/32
# > VIF Included Routes
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge VIF æŽ¥å£ä¼šå£°æ˜Žè‡ªå·±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä½†æ˜¯ï¼Œç”±äºŽ Wi-Fi æŽ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œæœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡ Surge VIF æŽ¥å£ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€æ¡è¾ƒå°çš„è·¯ç”±ã€‚
# tun-included-routes = 192.168.1.12/32

# > æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5,119.29.29.29,114.114.114.114
# > åŠ å¯†çš„DNSæœåŠ¡å™¨(å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨)
# encrypted-dns-server = https://223.5.5.5/dns-query, https://1.12.12.12/dns-query
# > Hijack DNS
hijack-dns = *:53
# > å…³é—­ DOH çš„æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
doh-skip-cert-verification = true
# > etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# > ä»£ç†è¯·æ±‚æœ¬åœ°DNSæ˜ å°„
use-local-host-item-for-proxy = false

# > UDP IP é˜²æ³„æ¼
# å¦‚æžœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œdirectã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸Ž UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£Žé™©ã€‚
udp-policy-not-supported-behaviour = REJECT

# > æé«˜å¤„ç† UDP æµé‡ä¼˜å…ˆçº§
udp-priority = true

# > éšè— VPN å›¾æ ‡
hide-vpn-icon = false

# > HTTP-API
# ä¾æ¬¡ä¸ºï¼šå¯†ç ï¼Œä¸»æœºåï¼Œç«¯å£(xxxxxxæ”¹æˆä½ è‡ªå®šä¹‰çš„å¯†ç ï¼‰
http-api = xxxxxx@0.0.0.0:6171
# > HTTP-API-TLS
http-api-tls = false
# > WebæŽ§åˆ¶å™¨
# Safariè¾“å…¥127.0.0.1:6171,å¡«å…¥HTTP-APIå¯†ç å³å¯ã€‚
http-api-web-dashboard = true

[Ponte]
# > é€šè¿‡ä»£ç†ä½¿ç”¨ Ponte
client-proxy-name = Proxy

[Proxy Group]
# > ç­–ç•¥ç»„
# > æ¼ç½‘ä¹‹é±¼
Final = select, Proxy, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
# > èŠ‚ç‚¹åˆ‡æ¢
Proxy = select, Auto, Fallback, SSIDPolicy, HongKong, TaiWan, Singapore, Japan, America, Others, no-alert=0, hidden=0, include-all-proxies=0
# > è‡ªåŠ¨é€‰æ‹©
Auto = url-test, policy-path=æ­¤å¤„å¡«å†™è®¢é˜…é“¾æŽ¥, url=http://www.apple.com/library/test/success.html, interval=300, update-interval=86400, tolerance=50
# > æ•…éšœè½¬ç§»
Fallback = fallback, interval=600, include-all-proxies=0, include-other-group="Auto"
# > SSIDç­–ç•¥
SSIDPolicy = subnet, default = Auto, "æ­¤å¤„æ”¹æˆä½ å®¶é‡ŒWiFiåç§°" = DIRECT, "æ­¤å¤„æ”¹æˆä½ å®¶é‡ŒWiFiåç§°_5G" = DIRECT
# > å›½å¤–ç½‘ç«™
Global = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > å›½å†…ç½‘ç«™
Mainland = select, DIRECT, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, no-alert=0, hidden=0
# > äººå·¥æ™ºèƒ½
OpenAI = select, America, Japan, Singapore, TaiWan, Others, no-alert=0, hidden=0
# > æ²¹ç®¡è§†é¢‘
YouTube = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > å¥ˆé£žè§†é¢‘
NETFLIX = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > è¿ªå£«å°¼+
Disney+ = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > Emby
Emby = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > å“”å“©å“”å“©
BiliBili = select, DIRECT, HongKong, TaiWan, no-alert=0, hidden=0
# > å£°ç”°éŸ³ä¹
Spotify = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > ç½‘æ˜“äº‘éŸ³ä¹
NetEaseMusic = select, DIRECT, no-alert=0, hidden=0
# > æµ·å¤–æŠ–éŸ³
TikTok = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > å›½é™…åª’ä½“
Streaming = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > ç”µæŠ¥ä¿¡æ¯
Telegram = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > è‹¹æžœæœåŠ¡
Apple = select, DIRECT, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, no-alert=0, hidden=0
# > è°·æ­ŒæœåŠ¡
Google = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0
# > å¾®è½¯æœåŠ¡
Microsoft = select, DIRECT, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, no-alert=0, hidden=0
# > æ¸¸æˆå¹³å°
Games = select, Proxy, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, DIRECT, no-alert=0, hidden=0

# > é¦™æ¸¯èŠ‚ç‚¹
HongKong = select, policy-regex-filter=æ¸¯|ðŸ‡­ðŸ‡°|é¦™æ¸¯|HK|Hong, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"
# > å°æ¹¾èŠ‚ç‚¹
TaiWan = select, policy-regex-filter=å°|ðŸ‡¹ðŸ‡¼|å°æ¹¾|TW|Tai, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"
# > ç‹®åŸŽèŠ‚ç‚¹
Singapore = select, policy-regex-filter=å¡|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|SG|Singapore, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"
# > æ—¥æœ¬èŠ‚ç‚¹
Japan = select, policy-regex-filter=æ—¥|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|JP|Japan, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"
# > ç¾Žå›½èŠ‚ç‚¹
America = select, policy-regex-filter=ç¾Ž|ðŸ‡ºðŸ‡²|ç¾Žå›½|US|States|American, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"
# > å…¶ä»–èŠ‚ç‚¹
Others = select, policy-regex-filter=^((?!ðŸ‡­ðŸ‡°|æ¸¯|HK|Hong|ðŸ‡¹ðŸ‡¼|å°|TW|Tai|ðŸ‡¯ðŸ‡µ|æ—¥|JP|Japan|ðŸ‡¸ðŸ‡¬|å¡|ç‹®åŸŽ|SG|Singapore|ðŸ‡ºðŸ‡¸|ç¾Ž|US|States|American|Music).)*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group="Auto"

[Rule]
# > å±è”½ UDP 443
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP

# > éšç§ç½‘ç»œ
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT

# > OpenAI
RULE-SET,https://raw.githubusercontent.com/Coldvvater/Mononoke/master/Surge/Rules/OpenAI.list,OpenAI

# > æµåª’ä½“(ä»¥åŠå…¶ä»–æœªæŒ‡å®šç­–ç•¥åª’ä½“ã€‚)
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,NETFLIX
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Emby/Emby.list,Emby
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bahamut.list,TaiWan
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBiliIntl/BiliBiliIntl.list,Streaming
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list,BiliBili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NetEaseMusic/NetEaseMusic.list,NetEaseMusic
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list,Streaming
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia_Domain.list,Streaming

# > Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram

# > GitHub
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Global

# > å¿…åº”æœç´¢
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bing/Bing.list,Global

# > Teitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Global

# > Testfilght
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TestFlight/TestFlight.list,Global

# > è‹¹æžœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list,Apple

# > è°·æ­ŒæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google

# > å¾®è½¯æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft

# > æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/Game.list,Games

# > å›½å¤–ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,Global
# > å›½å¤–ç½‘ç«™
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,Global

# > å›½å†…ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/Blankwonder/surge-list/master/cn.list,Mainland
# > å›½å†…ç½‘ç«™
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China_Domain.list,Mainland

# > é˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve

# > Local Area Network å±€åŸŸç½‘æŒ‡å®šåˆ†æµ
RULE-SET,LAN,DIRECT

# > GeoIP China
GEOIP,CN,DIRECT

# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,Final,dns-failed

[MITM]
# > VIF å¯¹åŽŸå§‹ TCP æµé‡è¿›è¡Œè§£å¯†
skip-server-cert-verify = true
# > è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
tcp-connection = true
# > MITM over HTTP/2
h2 = true

