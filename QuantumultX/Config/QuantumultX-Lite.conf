# > QuantumultX Config Make by Coldvvater
# > TG Channel: https://t.me/Ison_Channel
# > GitHub: https://github.com/Coldvvater
# > Update Date: 2023.05.03

# > å¦‚éœ€ä½¿ç”¨è‡ªå®šä¹‰ GeoIP æ–‡ä»¶ï¼Œå¯åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ã€Œ https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb ã€ å¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€

[general]
# > æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
server_check_url= http://cp.cloudflare.com/generate_204

# > èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•è¶…æ—¶å‚æ•°ï¼Œéœ€å°äº 5000 æ¯«ç§’æ‰ç”Ÿæ•ˆ
server_check_timeout=2000

# > èµ„æºè§£æå™¨ï¼Œå¯ç”¨äºè‡ªå®šä¹‰å„ç±»è¿œç¨‹èµ„æºçš„è½¬æ¢ï¼Œå¦‚èŠ‚ç‚¹ï¼Œè§„åˆ™ï¼Œå¤å†™ç­‰
resource_parser_url= https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js

# > ç”¨äºèŠ‚ç‚¹é¡µé¢çš„èŠ‚ç‚¹ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰å±•ç¤ºå†…å®¹ä¸æ–¹å¼
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/Orz-3/Orz-3/master/QuantumultX/IP.js

# > iCloudåŒæ­¥é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url= https://gitlab.com/lodepuly/iconlibrary/-/raw/master/App_icon/144px/Quantumult_X.png

# > æ ¹æ®ç½‘ç»œè‡ªåŠ¨åˆ‡æ¢ åˆ†æµ/ç›´è¿/å…¨å±€ä»£ç† ç­‰æ¨¡å¼
;running_mode_trigger=filter, filter, asus-5g:all_direct, asus: all_proxy

# > åˆ—è¡¨ä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼. å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ip åŠè¿œç¨‹è§£æçš„æ¨¡å¼
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me

# > UDPå›é€€ç­–ç•¥å‚æ•°çš„å€¼ä»…æ”¯æŒæœ«ç«¯ç­–ç•¥ï¼ˆæœ«ç«¯ç­–ç•¥ä¸ºç»ç”±è§„åˆ™æ¨¡å—å’Œç­–ç•¥æ¨¡å—åæ‰€å‘½ä¸­çš„ç­–ç•¥ï¼Œä¾‹å¦‚ï¼šdirectã€reject ä»¥åŠèŠ‚ç‚¹ï¼›ä¸æ”¯æŒå†…ç½®ç­–ç•¥ proxy ä»¥åŠå…¶å®ƒè‡ªå®šä¹‰ç­–ç•¥ï¼‰
;fallback_udp_policy=direct

# > ä»¥ä¸‹åˆ—è¡¨ä¸­çš„å†…å®¹å°†ä¸ç»è¿‡ QuantumultXçš„å¤„ç†ï¼Œè®¾ç½®åå»ºè®®é‡å¯è®¾å¤‡
excluded_routes=239.255.255.250/32

# > UDPç™½åå•
udp_whitelist=1-442, 444-65535

# > DNSæ¨¡å—è®¾ç½®
[dns]
# > ç¦ç”¨ç³»ç»ŸDNS
no-system
# > ç¦ç”¨IPV6
no-ipv6
# > DNSæœåŠ¡å™¨
server=223.5.5.5
server=119.29.29.29
server=114.114.114.114
# > åŸŸåæŒ‡å®š DNS æ˜ å°„
server=/*.tw/1.1.1.1
# > Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188
# > Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29
# > Apple
server=/apple.com/223.5.5.5
server=/*icloud.com/223.5.5.5
server=/*icloud.com.cn/223.5.5.5
server=/testflight.apple.com/8.8.4.4
# > Alibaba
server=/*.alicdn.com/223.5.5.5
server=/aliyun.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
server=/taobao.com/223.5.5.5
server=/*.taobao.com/223.5.5.5
server=/tmall.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
# > JD
server=/jd.com/119.29.29.29
server=/*.jd.com/119.29.29.29
# > Tencent
server=/*.qq.com/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/weixin.com/119.29.29.29
server=/*.weixin.com/119.29.29.29
# > bilibili
server=/bilibili.com/119.29.29.29
server=/*.bilibili.com/119.29.29.29
server=/hdslb.com/119.29.29.29
# > NetEase
server=/163.com/119.29.29.29
server=/*.163.com/119.29.29.29
server=/126.com/119.29.29.29
server=/*.126.com/119.29.29.29
server=/*.126.net/119.29.29.29
server=/*.127.net/119.29.29.29
server=/*.netease.com/119.29.29.29
# > xiaomi
server=/mi.com/119.29.29.29
server=/*.mi.com/119.29.29.29
server=/xiaomi.com/119.29.29.29
server=/*.xiaomi.com/119.29.29.29
# > Baidu
server=/*.baidu.com/119.29.29.29
server=/*.bdstatic.com/119.29.29.29
# > Others
server=/*.unicompayment.com/119.29.29.29
server=/*.ximalaya.com/119.29.29.29
server=/*.vercel.com/119.29.29.29
server=/*.vercel.app/119.29.29.29

# > å¯ç”¨ DoH3 (DNS over HTTP/3)
;prefer-doh3
# > DoHåŠ å¯†DNSæœåŠ¡å™¨
doh-server=https://223.5.5.5/dns-query, https://1.12.12.12/dns-query

# > ç­–ç•¥ç»„
[policy]
# > æ¼ç½‘ä¹‹é±¼
static=Final, Select, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png
# > èŠ‚ç‚¹é€‰æ‹©
static=Select, Auto, Fallback, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Rocket.png
# > è‡ªåŠ¨ç­›é€‰
url-latency-benchmark= Auto, server-tag-regex=.*, check-interval=600, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png
# > æ•…éšœè½¬ç§»
available=Fallback, server-tag-regex=.*, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Available.png
# > å›½å¤–ç½‘ç«™
static=Global, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png
# > å›½å†…ç½‘ç«™
static=Mainland, direct, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China_Map.png
# > å“”å“©å“”å“©
static=BiliBili, direct, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png
# > å£°ç”°éŸ³ä¹
static=Spotify, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png
# > æµ·å¤–æŠ–éŸ³
static=TikTok, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TikTok.png
# > å›½é™…åª’ä½“
static=Streaming, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Streaming.png
# > ç”µæŠ¥ä¿¡æ¯
static=Telegram, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram_X.png
# > è‹¹æœæœåŠ¡
static=Apple, direct, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
# > å¾®è½¯æœåŠ¡
static=Microsoft, direct, Select, Auto, Fallback, HongKong, TaiWan, Singapore, Japan, America, Others, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Microsoft.png
# > å¹¿å‘Šæ‹¦æˆª
static=AdBlock, reject, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/AdBlack.png
# > é¦™æ¸¯èŠ‚ç‚¹
static=HongKong, server-tag-regex=(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Hong_Kong.png
# > å°æ¹¾èŠ‚ç‚¹
static=TaiWan, server-tag-regex=(?i)(å°|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|æ¹¾|TW|Taiwan), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China.png
# > ç‹®åŸèŠ‚ç‚¹
static=Singapore, server-tag-regex=(?i)(å¡|ğŸ‡¸ğŸ‡¬|SG|æ–°åŠ å¡|ç‹®åŸ|Singapore), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Singapore.png
# > æ—¥æœ¬èŠ‚ç‚¹
static=Japan, server-tag-regex=(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|ä¸œäº¬|Japan), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Japan.png
# > ç¾å›½èŠ‚ç‚¹
static=America, server-tag-regex=(?i)(ç¾|ğŸ‡ºğŸ‡²|US|States|American), img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/United_States.png
# > å…¶ä»–èŠ‚ç‚¹
static=Others, direct, server-tag-regex=.*, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Airport.png

# > è¿œç¨‹è®¢é˜…æœåŠ¡
[server_remote]

# > è¿œç¨‹è§„åˆ™åˆ†æµ
[filter_remote]
# > è§„åˆ™ä¿®æ­£
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=Unbreak, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true
# > å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, tag=Advertising, force-policy=AdBlock, update-interval=172800, opt-parser=true, enabled=true
# > éšç§ä¿æŠ¤
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=Privacy, force-policy=AdBlock, update-interval=172800, opt-parser=true, enabled=true
# > è¿è¥åŠ«æŒ
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, tag=Hijacking, force-policy=AdBlock, update-interval=172800, opt-parser=true, enabled=true
# > æ¸¯å°ç•ªå‰§
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Bilibili.list, tag=BiliBili, force-policy=BiliBili, update-interval=172800, opt-parser=false, enabled=true
# > å£°ç”°éŸ³ä¹
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify, force-policy=Spotify, update-interval=172800, opt-parser=false, enabled=true
# > æµ·å¤–æŠ–éŸ³
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok.list, tag=TikTok, force-policy=TikTok, update-interval=172800, opt-parser=true, enabled=true
# > å›½é™…åª’ä½“
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list, tag=Streaming, force-policy=Streaming, update-interval=172800, opt-parser=true, enabled=true
# > ç”µæŠ¥ä¿¡æ¯
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram, force-policy=Telegram, update-interval=172800, opt-parser=false, enabled=true
# > å›½å¤–ç½‘ç«™
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, tag=Foreign, force-policy=Global, update-interval=172800, opt-parser=true, enabled=true
# > è‹¹æœæœåŠ¡
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list, tag=Apple, force-policy=Apple, update-interval=172800, opt-parser=true, enabled=true
# > å¾®è½¯æœåŠ¡
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft, force-policy=Microsoft, update-interval=172800, opt-parser=false, enabled=true
# > å›½å†…ç½‘ç«™
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list, tag=Domestic, force-policy=Mainland, update-interval=172800, opt-parser=true, enabled=true
# > ASN China
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=ASN-China, force-policy=direct, update-interval=172800, opt-parser=true, enabled=false

# > è¿œç¨‹é‡å†™è§„åˆ™
[rewrite_remote]
# > å¾®åš&å¾®åšå›½é™…ç‰ˆå‡€åŒ–[å¢¨é±¼ç‰ˆ]
https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/Weibo.conf, tag=WeiboAds, update-interval=172800, opt-parser=false, enabled=true
# > è¶…çº§æœç´¢å¼•æ“
https://raw.githubusercontent.com/Coldvvater/Mononoke/master/QuantumultX/Rewrite/Tool/Q-Search.qxrewrite, tag=Q-Search, update-interval=172800, opt-parser=false, enabled=true
# > YouTubeå»å¹¿å‘Š
https://raw.githubusercontent.com/Coldvvater/Mononoke/master/QuantumultX/Rewrite/Adblock/YouTubeAds.qxrewrite, tag=YouTubeAds, update-interval=172800, opt-parser=false, enabled=false
# > TikTokè§£é”
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-JP.conf, tag=TikTokUnlock, update-interval=172800, opt-parser=true, enabled=true
# > BoxJS
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJs, update-interval=172800, opt-parser=false, enabled=true
# > å“”å“©å“”å“©è‡ªåŠ¨æ¢åŒº
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Bili_Auto_Regions.conf, tag=Bilibili Auto Regions, update-interval=172800, opt-parser=false, enabled=true
# > è·å–Cookie
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/JS_GetCookie.conf, tag=GetCookie, update-interval=172800, opt-parser=false, enabled=false
# > TesFlightè´¦æˆ·ç®¡ç†
https://raw.githubusercontent.com/NobyDa/Script/master/TestFlight/TestFlightAccount.js, tag=TesFlightAccount, update-interval=172800, opt-parser=true, enabled=true
# > TesFlightè§£é™¤åœ°åŒºé™åˆ¶
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/TestFlightDownload.conf, tag=TestFlightDownload, update-interval=172800, opt-parser=false, enabled=false
# > é‡æ¯”å»å¹¿å‘Š
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Rewrite_lhie1.conf, tag=Rewrite_lhie1, update-interval=172800, opt-parser=false, enabled=false
# > é‡å†™å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=Advertising, update-interval=172800, opt-parser=true, enabled=true
# > çŸ¥ä¹Appå»å¹¿å‘Š
https://raw.githubusercontent.com/app2smile/rules/master/module/zhihu.conf, tag=AdvertisingPlus, update-interval=172800, opt-parser=false, enabled=true
# > é‡å®šå‘
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Redirect/Redirect.conf, tag=Redirect, update-interval=172800, opt-parser=false, enabled=true

# > æœ¬åœ°æœåŠ¡å™¨
[server_local]

# > æœ¬åœ°åˆ†æµè§„åˆ™(å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ)
[filter_local]
host-suffix, local, DIRECT
ip-cidr, 192.168.0.0/16, DIRECT
ip-cidr, 10.0.0.0/8, DIRECT
ip-cidr, 172.16.0.0/12, DIRECT
ip-cidr, 127.0.0.0/8, DIRECT
ip-cidr, 100.64.0.0/10, DIRECT
ip-cidr, 224.0.0.0/4, DIRECT
ip6-cidr, fe80::/10, DIRECT
ip-cidr, 203.107.1.1/24, reject
ip-cidr, 183.240.197.130/32, direct
GEOIP, CN, DIRECT
final, Final

# > æœ¬åœ°é‡å†™è§„åˆ™
[rewrite_local]

# > å®šæ—¶ä»»åŠ¡è„šæœ¬
[task_local]
# > æµåª’ä½“è§£é”æ£€æµ‹
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=Streaming-Check, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/AfreecaTV.png, enabled=true

# > HTTP åç«¯
[http_backend]

# > è¯ä¹¦åŠä¸»æœºå
[mitm]
skip_validating_cert = true
