# > Loon Config Make by Coldvvater
# > TG Channel: https://t.me/Ison_Channel
# > GitHub: https://github.com/Coldvvater
# > Update Date: 2023.05.03

[General]
# > IPv6 æ”¯æŒ
ipv6 = true

# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com, www.baidu.com, yunbusiness.ccb.com

# > Tun æ—è·¯è·¯ç”±
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32

# > è§£å†³ä¸€äº›ipè¯·æ±‚æ— æ³•åŒ¹é…åŸŸåç±»è§„åˆ™çš„é—®é¢˜ã€‚real-ipæŒ‡å®šçš„åŸŸåå°†ä¸è¿”å›žfake ipå“åº”ï¼Œç›´æŽ¥å°†dnsè¯·æ±‚å‘å¾€ç›®æ ‡dnsæœåŠ¡å™¨
real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com*.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net

# > DNSæœåŠ¡å™¨
dns-server = 223.5.5.5,119.29.29.29,114.114.114.114

# > DoHåŠ å¯†DNSæœåŠ¡å™¨
#doh-server = https://223.5.5.5/dns-query, https://1.12.12.12/dns-query

# > Wi-Fi è®¿é—®
# > å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221

# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 5

# > è§£æžå™¨
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js

# > GEOIPæ•°æ®åº“
geoip-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# ssid-triggerå‚æ•°ï¼Œç”¨äºŽæŒ‡å®šSSIDä¸‹æµé‡æ¨¡å¼åˆ‡æ¢ï¼Œï¼ˆdefaultè¡¨ç¤ºé»˜è®¤ï¼Œcellularè¡¨ç¤ºèœ‚çªï¼Œç›®å‰æ”¯æŒä¸‰ç§å€¼ï¼šruleï¼Œdirectï¼Œproxyï¼‰ 
# ssid-trigger="default":rule,"cellular":rule,"ASUS":direct,"TPLINK":proxy 

# > æŽ¥å£æ¨¡å¼
interface-mode = auto

[Host]
#å¯ä»¥æŒ‡å®šä¸€ä¸‹å››ç§æ¨¡å¼ï¼š
#1ã€æŒ‡å®šåŸŸåä½¿ç”¨å¯¹åº”çš„IPåœ°å€
#2ã€å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸå
#3ã€æŒ‡å®šåŸŸåè¯·æ±‚DNSæ—¶ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨ï¼Œæ ¼å¼ä¸ºï¼šgoogle.com = server:8.8.8.8 æˆ–è€… *.baidu.com = server:https://example.com/dns-query
#4ã€æŒ‡å®šå…·ä½“çš„SSIDçŽ¯å¢ƒä¸‹ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨ï¼Œå¦‚ï¼š
#ssid:LOON's WIFI = server:system
#ssid:LOON WIFI = server:https://example.com/dns-query
*.tw = server:1.1.1.1
localhost = 127.0.0.1
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > Apple
apple.com = server:223.5.5.5
*icloud.com = server:223.5.5.5
*icloud.com.cn = server:223.5.5.5
*testflight.apple.com = server:8.8.4.4
# > Alibaba
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
taobao.com = server:223.6.6.6
*.taobao.com = server:223.6.6.6
tmall.com = server:223.6.6.6
*.tmall.com = server:223.6.6.6
# > JD
jd.com = server:119.29.29.29
*.jd.com = server:119.28.28.28
# > Tencent
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
weixin.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
# > bilibili
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
# > NetEase
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
# > xiaomi
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
# > Baidu
*.baidu.com = server:119.29.29.29
*.bdstatic.com = server:119.29.29.29
# > Others
*.unicompayment.com = server:119.29.29.29
*.ximalaya.com = server:119.29.29.29
*.vercel.app = server:119.29.29.29
*.vercel.com = server:119.29.29.29
# > Local Area Network
*.lan = server:system

[Proxy]
# > å†…ç½® DIRECTã€REJECT ç­–ç•¥
# > å†…ç½® PROXY æŒ‡å‘æœ¬åœ°èŠ‚ç‚¹æˆ–è€…è®¢é˜…èŠ‚ç‚¹ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ˆæœ‰æœ¬åœ°èŠ‚ç‚¹é»˜è®¤æŒ‡å‘ç¬¬ä¸€ä¸ªæœ¬åœ°èŠ‚ç‚¹ï¼Œå½“æ²¡æœ‰æœ¬åœ°èŠ‚ç‚¹ä½†æœ‰è®¢é˜…èŠ‚ç‚¹æ—¶ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªè®¢é˜…çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ¬åœ°èŠ‚ç‚¹å’Œè®¢é˜…èŠ‚ç‚¹éƒ½ä¸å­˜åœ¨æ—¶æŒ‡å‘DIRECTï¼‰
#ss
#ss1 = Shadowsocks,example.com,443,aes-128-gcm,"password",fast-open=false,udp=true
[Remote Proxy]

# > ç­–ç•¥ç»„
[Proxy Group]
# > æ¼ç½‘ä¹‹é±¼
Final = select,Proxy,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png
# > èŠ‚ç‚¹é€‰æ‹©
Proxy = select,Auto,Fallback,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Rocket.png
# > è‡ªåŠ¨ç­›é€‰
Auto = url-test,url = http://cp.cloudflare.com/generate_204,interval = 300,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png
# > æ•…éšœè½¬ç§»
Fallback = fallback,url = http://cp.cloudflare.com/generate_204,interval = 300,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Available.png
# > å›½å¤–ç½‘ç«™
Global = select,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,DIRECT,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png
# > å›½å†…ç½‘ç«™
Mainland = select,DIRECT,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China_Map.png
# > å“”å“©å“”å“©
BiliBili = select,DIRECT,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png
# > å£°ç”°éŸ³ä¹
Spotify = select,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,DIRECT,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png
# > æµ·å¤–æŠ–éŸ³
TikTok = select,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,DIRECT,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TikTok.png
# > å›½é™…åª’ä½“
Streaming = select,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Streaming.png
# > ç”µæŠ¥ä¿¡æ¯
Telegram = select,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,DIRECT,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram_X.png
# > è‹¹æžœæœåŠ¡
Apple = select,DIRECT,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
# > å¾®è½¯æœåŠ¡
Microsoft = select,DIRECT,Proxy,Auto,Fallback,HongKong,TaiWan,Japan,Singapore,America,Others,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Microsoft.png
# > å¹¿å‘Šæ‹¦æˆª
AdBlock = select,REJECT,DIRECT,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Advertising.png
# > é¦™æ¸¯èŠ‚ç‚¹
HongKong = select,é¦™æ¸¯,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Hong_Kong.png
# > å°æ¹¾èŠ‚ç‚¹
TaiWan = select,å°æ¹¾,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China.png
# > ç‹®åŸŽèŠ‚ç‚¹
Singapore = select,æ–°åŠ å¡,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Singapore.png
# > æ—¥æœ¬èŠ‚ç‚¹
Japan = select,æ—¥æœ¬,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Japan.png
# > ç¾Žå›½èŠ‚ç‚¹
America = select,ç¾Žå›½,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/United_States.png
# > å…¶ä»–èŠ‚ç‚¹
Others = select,DIRECT,å…¶ä»–,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Airport.png

[Remote Filter]
# > ç­›é€‰è®¢é˜…èŠ‚ç‚¹ï¼Œç­›é€‰åŽçš„ç»“æžœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­ï¼Œç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# > NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# > NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åŽçš„èŠ‚ç‚¹ã€‚
# > NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åŽçš„èŠ‚ç‚¹ã€‚
#Netflix = NodeSelect,Subs
#Hulu = NameKeyword,Subs,Subs2,FilterKey = Hulu
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|ðŸ‡­ðŸ‡°|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|ðŸ‡¨ðŸ‡³|ðŸ‡¹ðŸ‡¼|æ¹¾|TW|Taiwan)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸŽ|ðŸ‡¸ðŸ‡¬|SG|Singapore)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥|ðŸ‡¯ðŸ‡µ|ä¸œäº¬|JP|Japan)"
ç¾Žå›½ = NameRegex, FilterKey = "(?i)(ç¾Ž|ðŸ‡ºðŸ‡²|US|States|American)"
å…¶ä»– = NameRegex, FilterKey = ".*"

# > Remote Rule
# > è®¢é˜…è§„åˆ™URL,ç­–ç•¥
[Remote Rule]
# > è§„åˆ™ä¿®æ­£
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, policy=DIRECT, tag=Unbreak, enabled=true
# > å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, policy=AdBlock, tag=Advertising, enabled=true
# > éšç§ä¿æŠ¤
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, policy=AdBlock, tag=Privacy, enabled=true
# > è¿è¥åŠ«æŒ
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, policy=AdBlock, tag=Hijacking, enabled=true
# > å“”å“©å“”å“©åˆ†æµ
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Bilibili.list, policy=BiliBili, tag=BiliBili, enabled=true
# > Spotifyåˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Spotify/Spotify.list, policy=Spotify, tag=Spotify, enabled=true
# > TikTokåˆ†æµ
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Loon/TikTok.list, tag=TikTok, enabled=true
# > å›½é™…æµåª’ä½“
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list, policy=Streaming, tag=Streaming, enabled=true
# > ç”µæŠ¥åˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=Telegram, tag=Telegram, enabled=true
# > å›½å¤–ç½‘ç«™åˆ†æµ
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, policy=Foreign, tag=Foreign, enabled=true
# > Appleåˆ†æµ
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list, policy=Apple, tag=Apple, enabled=true
# > å¾®è½¯åˆ†æµ
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Microsoft/Microsoft.list, policy=Microsoft, tag=Microsoft, enabled=true
# > å›½å†…ç½‘ç«™åˆ†æµ
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list, policy=Mainland, tag=Mainland, enabled=true
# > LAN
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Rule/RULE_LAN, policy=DIRECT, tag=LAN, enabled=true
# > GEOIP CN
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Rule/RULE_REGION, policy=DIRECT, tag=GEOIP CN, enabled=true

# > æœ¬åœ°è§„åˆ™
[Rule]
# > Local RULE
# > Type:DOMAIN-SUFFIX,DOMAIN,DOMAIN-KEYWORD,USER-AGENT,URL-REGEX,IP-CIDR
# > Strategy:DIRECT,Proxy,REJECT
# > Options:no-resolve(no-resolve(only for cidr))
FINAL,Final

# > é‡å†™è§„åˆ™
[URL Rewrite]

# > è®¢é˜…é‡å†™
[Remote Rewrite]

# > è„šæœ¬
[Script]
# > http-request å¤„ç†è¯·æ±‚çš„è„šæœ¬
# > http-response å¤„ç†è¯·æ±‚å“åº”çš„è„šæœ¬
# > cron å®šæ—¶è„šæœ¬
# > network-changed   ç½‘ç»œå‘ç”Ÿå˜åŒ–è§¦å‘è„šæœ¬
# > generic  é€šç”¨åž‹è„šæœ¬ï¼Œå¯ç”¨åœ¨æ“ä½œèŠ‚ç‚¹/ç­–ç•¥ç»„ä¸­ï¼Œæ‰§è¡Œæ˜¯ä¼šå¸¦å…¥èŠ‚ç‚¹åç§°å’Œç­–ç•¥ç»„åç§°ï¼Œè„šæœ¬å¿…é¡»åœ¨å¼€å¯NEæ—¶

# http-request ^https?:\/\/(www.)?(example)\.com script-path=localscript.js,tag = requestScript,enable=true
# http-response ^https?:\/\/(www.)?(example)\.com script-path=https://example.com/loon.js,timeout=10,requires-body = true,tag = responseScript,enable=true
# cron "0 8 * * *" script-path=cron.js,tag = responseScript,enable=true
# > æµåª’ä½“è§£é”æ£€æµ‹
generic script-path=https://raw.githubusercontent.com/Loon0x00/LoonScript/main/MediaCheck/check.js, tag=MediaCheck, img-url=checkmark.seal.system

# > è®¢é˜…è„šæœ¬
[Remote Script]
# > èŽ·å–Cookie
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=GetCookie, enabled=false

# > æ’ä»¶
[Plugin]
# plugin-url tag=tag,proxy=æ’ä»¶ä¸­PROXYæ‰€æŒ‡å‘çš„ç­–ç•¥,enable=true
# pluginç­–ç•¥å¯è®¾ç½®ä¸ºDIRECT,REJECT,PROXYï¼Œå…¶ä¸­PROXYä¸ºç”¨æˆ·åœ¨appä¸­æ‰‹åŠ¨æ˜ å°„çš„ç­–ç•¥ï¼ŒruleåŽä¸è·Ÿéšç­–ç•¥é»˜è®¤ä½¿ç”¨PROXY
# example: 

# > TestFlightè´¦æˆ·ç®¡ç†
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Account.plugin, tag=TestFlightAccount, enabled=true
# > å“”å“©å“”å“©è‡ªåŠ¨æ¢åŒº
https://raw.githubusercontent.com/Coldvvater/Mononoke/master/Loon/Plugin/Streaming/Bili_Auto_Regions.plugin, tag=BiliBili Auto Regions, enabled=true
# > è¶…çº§æœç´¢å¼•æ“Ž
https://raw.githubusercontent.com/Coldvvater/Mononoke/master/Loon/Plugin/Tool/Q-Search.plugin, enabled=true
# > Loonæ’ä»¶ä»“åº“
https://raw.githubusercontent.com/Peng-YM/Loon-Gallery/master/loon-gallery.plugin, tag=Loon Gallery, enabled=true
# > TestFlightè§£é”åŒºåŸŸé™åˆ¶
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/TF-Download.plugin, tag=TestFlightDownload, enabled=false
# > çŸ¥ä¹ŽAppåŽ»å¹¿å‘Š
https://raw.githubusercontent.com/app2smile/rules/master/plugin/zhihu.plugin, tag=ZhihuAds, enabled=true
# > åŽ»å¹¿å‘Šå¤å†™
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, tag=Advertising, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png, enabled=true
# > é‡å®šå‘
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, tag=Redirect, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png, enabled=true
# > BoxJS
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.tf.plugin, tag=BoxJs, enabled=true
# > é«˜çº§è®¢é˜…å·¥å…·
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=Sub-Store, enabled=true

[MITM]
skip-server-cert-verify = true
